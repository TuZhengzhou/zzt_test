设计原则：

- 封装变化：把会变化的部分取出并“封装”起来，好让其他部分不受影响
- 针对接口编程，而不是针对实现编程。“针对接口编程”真正的意思是“针对超类型”编程，更明确地可以说成“变量的声明类型应该是超类型，通常是一个抽象类或者一个接口”。如此，只要是具体实现此超类型的类所产生的对象，都可以指定给这个变量。这也意味着，声明类时不用理会以后执行时的真正对象类型。
- 多用组合，少用继承。“有一个”可能比“是一个”更好（可以在鸭鸣器里放一个鸭子以实现鸭叫声）

设计模式：

- 策略模式：定义了算法族（抽象类或者接口），将同一类型的具体算法实现分别封装起来（继承自相同抽象类或者是同一个接口的实现），让他们之间可以相互替换。让算法的变化独立于使用算法的客户。
- 观察者模式。出版者（主题）+订阅者（观察者）=观察者模式！定义了对象之间的一对多依赖，这样一来，当一个对象改变状态时，它的所有依赖者都会收到通知并自动更新。主题需要提供注册和注销接口，需要保存观察者，需要在数据更新时通知所有观察者。观察者需要保存观察的主题